// dateTime v1
// author: Bob Gray <gray.bob98@gmail.com>
// Adapted from Steven Levithan <stevenlevithan.com> Date Format 1.2.3 (c) 2007-2009
(function(d){var q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],w={shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MMt",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:'yyyy-mm-dd"T"HH:MM:ss'},o=function(){var e=d.dateTime,o=["th","st","nd","rd"],A=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTtz])\1?|[LlrZ]|"[^"]*"|'[^']*'/g,B=/[^(]+(?=\))/,C=/\b\w/g,s=d.Date,c=s.prototype,D=c.toTimeString,x=c.setDate,y=c.setMonth,E=c.setFullYear,F=c.setMilliseconds,G=c.setSeconds,H=c.setMinutes,t=c.setHours,h,m,f,i,j,k,l,g,u=h=c.getDate,I=m=c.getDay,v=f=c.getMonth,n=i=c.getFullYear,J=j=c.getMilliseconds,K=k=c.getSeconds,L=l=c.getMinutes,M=g=c.getHours,N=c.getUTCDate,O=c.getUTCDay,P=c.getUTCMonth,Q=c.getUTCFullYear,R=c.getUTCMilliseconds,S=c.getUTCSeconds,T=c.getUTCMinutes,U=c.getUTCHours,p=!1,z=function(a){a&&!p?(h=N,m=O,f=P,i=Q,j=R,k=S,l=T,g=U,p=!0):!a&&p&&(h=u,m=I,f=v,i=n,j=J,k=K,l=L,g=M,p=!1)};Str=d.String;StrProto=Str.prototype;slice=StrProto.slice;replace=StrProto.replace;split=StrProto.split;match=StrProto.match;join=d.Array.prototype.join;pad=function(a,b){a=Str(a);for(b!==void 0||(b=2);a.length<b;)a="0"+a;return a};left=function(a,b){return slice.call(Str(a),0,b)};isAM=function(a){return g.call(a)<12};timeZone=function(a){return match.call(D.call(a),B)[0]};replacers={d:h,dd:function(){return pad(h.call(this))},ddd:function(){return left(q[m.call(this)],3)},dddd:function(){return q[m.call(this)]},m:function(){return f.call(this)+1},mm:function(){return pad(f.call(this)+1)},mmm:function(){return left(r[f.call(this)],3)},mmmm:function(){return r[f.call(this)]},yy:function(){return slice.call(Str(i.call(this)),2)},yyyy:i,h:function(){return g.call(this)%12||12},hh:function(){return pad(g.call(this)%12||12)},H:g,HH:function(){return pad(g.call(this))},M:l,MM:function(){return pad(l.call(this))},s:k,ss:function(){return pad(k.call(this))},l:j,L:function(){return pad(j.call(this),3)},t:function(){return isAM(this)?"a":"p"},tt:function(){return isAM(this)?"am":"pm"},T:function(){return isAM(this)?"A":"P"},TT:function(){return isAM(this)?"AM":"PM"},z:function(){return split.call(timeZone(this)," ")[0]},zz:function(){return timeZone(this)},Z:function(){return join.call(match.call(timeZone(this),C),"")},r:function(){var a=h.call(this),b=a%10;return o[b>3?0:(a-b!==10)*b]}};movers={d:function(a,b){x.call(a,h.call(a)+b)},w:function(a,b){x.call(a,h.call(a)+b*7)},m:function(a,b){y.call(a,f.call(a)+b)},q:function(a,b){y.call(a,f.call(a)+b*3)},y:function(a,b){E.call(a,i.call(a)+b)},h:function(a,b){t.call(a,g.call(a)+b)},M:function(a,b){H.call(a,l.call(a)+b)},s:function(a,b){G.call(a,k.call(a)+b)},l:function(a,b){F.call(a,j.call(a)+b)}};comparers={d:function(a,b){return~~((t.call(new Date(b),0)-t.call(new Date(a),0))/864E5)},w:function(a,b){return~~(comparers.d(a,b)/7)},m:function(a,b){var c=u.call(a),d=u.call(b),e=(n.call(b)-n.call(a))*12+v.call(b)-v.call(a);return e>=0?c>d?--e:e:c<d?--e:e},q:function(a,b){return~~(comparers.m(a,b)/3)},y:function(a,b){return n.call(b)-n.call(a)}};e.format=function(a,b,c){a instanceof s||(a=new s(a));b=w[b]||b;z(c);return replace.call(b,A,function(b){return b in replacers?replacers[b].call(a):slice.call(b,1,b.length-1)})};e.move=function(a,b,c){z(!1);movers[c](a,b);return a};e.compare=function(a,b,c){return comparers[c](a,b)}};d.dateTime={format:function(){o();return d.dateTime.format.apply(d,arguments)},move:function(){o();return d.dateTime.move.apply(d,arguments)},compare:function(){o();return d.dateTime.compare.apply(d,arguments)},setMonths:function(e){r=e},setWeekdays:function(e){q=e},setMask:function(e,d){w[d]=e}}})(this);